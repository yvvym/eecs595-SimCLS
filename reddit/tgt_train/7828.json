{"article": ["as the lead developer of (a large company's) iframe-based login solution i ran into this problem a bit.", "safari uses a third-party/first-party cookie policy, where websites that you've visited are considered first party cookies and cookies within an iframe are considered third party.", "an iframe is like a window into another website from a parent website, in case you didn't know.", "iframes are used mainly for advertising purposes but they're also used for login systems like google's oauth 2.0 javascript library as well as facebook's.", "these libraries use postmessage as well, but that's a whole different can of worms.", "safari used to have a couple of hacks that would promote a third party to first party status.", "the first was to submit a form to the domain in question.", "the form didn't have to do anything, and it could be completely written in javascript, but this bug was soon closed after a lawsuit to google (iirc).", "something around $13 mil.", "the other hack was to open a popup to the third party domain, have the user click a button that allowed the domain to write a cookie.", "the domain could then delete the cookie and close the popup window, then refresh the parent website.", "once the user had interacted with the domain it was assumed that they wanted to allow it to write cookies (elevated to first party status).", "as far as i could tell this breach was closed recently.", "with oauth 2.0 a new model has been added where the user clicks a button or link within the first party website, which redirects the user to another website's login form.", "the other website allows the user to login and redirects the user back to the original website with a token.", "now that the user interacted with a first party website, that website can write cookies from within an iframe.", "this is not a problem with google, this is a problem with safari.", "in chrome and firefox if you block third party cookies then it blocks all third party cookies no matter what.", "this is why we now use localstorage, which doesn't have the problems with third party cookie blocking (or it didn't when i worked on it).", "some discussion on the firefox forums has been had to attempt to close this hole as well.", "the other option could be to use localstorage on the parent website by calling postmessage methods that wrote cookies for the third party website.", "i designed a solution around this as well.", "you could even use cookies in this case, but localstorage is so much faster."], "abstract": ["google did nothing wrong except utilize a hole in the security of safari to write cookies.", "it is more safari's fault for making a poor design decision then google's fault for exploiting a security flaw."], "candidates": [[["iframes are used mainly for advertising purposes but they're also used for login systems like google's oauth 2.0 library.", "safari uses a third-party/first-party cookie policy, where websites that you've visited are considered first"], 0.12144300144300145], [["safari has a third-party/first-party cookie policy.", "iframes are used mainly for advertising purposes but they're also used for login systems.", "google's oauth 2.0 library uses postmessage as well."], 0.1411172348098251], [["safari has a third-party/first-party cookie policy.", "iframes are used mainly for advertising purposes but they're also used for login systems.", "google's oauth 2.0 has been added where the user clicks a"], 0.16241241241241242], [["safari has a third-party/first-party cookie policy.", "iframes are used mainly for advertising purposes but they're also used for login systems.", "google's oauth 2.0 library uses postmessage as well.", "this is"], 0.15550839282268955], [["google's oauth 2.0 allows users to login to another website from within an iframe.", "safari uses a third-party/first-party cookie policy, where websites that you've visited are considered first party cookies and cookies within an if"], 0.11133603238866396], [["a bug in safari allowed cookies from a third party to be written into an iframe.", "iframes are used mainly for advertising purposes but they're also used for login systems like google's oauth 2.0 library.", "this is not a"], 0.19431201709682724], [["safari uses a third-party/first-party cookie policy, where websites that you've visited are considered first party cookies and cookies within an iframe are third party.", "with oauth 2.0 a new model has been added"], 0.07111111111111111], [["safari uses a third-party/first-party cookie policy.", "cookies within an iframe are considered third party.", "iframes are used mainly for advertising purposes.", "google's oauth 2.0 library uses postmessage as well."], 0.12233789208682044], [["safari has a third party/first party cookie policy.", "iframes are used for login systems like google's oauth 2.0. this is not a problem with google, this is a problem for safari.", "in chrome and firefox"], 0.21357686453576866], [["safari has a third-party/first-party cookie policy.", "iframes are used mainly for advertising purposes but they're also used for login systems like google's oauth 2.0. with oauth, a user"], 0.15050690617132748], [["safari has a third party/first party cookie policy.", "iframes are used for login systems like google's oauth 2.0. this is not a problem with google, this is a problem for safari."], 0.20684493434034157], [["the problem is that safari uses a third party/first party cookie policy.", "this means that cookies within an iframe are considered third party.", "iframes are used mainly for advertising purposes but they're also used for login systems.", "google's o"], 0.16055674283522384], [["the problem is that safari uses a third party/first party cookie policy.", "this means that cookies within an iframe are considered third party.", "iframes are used mainly for advertising purposes but they're also used for login systems."], 0.12280701754385966], [["safari uses a third-party/first-party cookie policy.", "cookies within an iframe are considered third party.", "iframes are used mainly for advertising purposes."], 0.08743169398907104], [["in chrome and firefox if you block third party cookies then it blocks all third party cookies no matter what.", "this is not a problem with google, this is a problem for safari."], 0.18095238095238098], [["a safari bug allowed cookies from a third party to be written into an iframe.", "this is a problem with google's oauth 2.0 and facebook's login system.", "the bug was closed after a lawsuit to google (iirc)"], 0.18204906204906204]], "article_untok": ["as the lead developer of (a large company's) iframe-based login solution i ran into this problem a bit.", "safari uses a third-party/first-party cookie policy, where websites that you've visited are considered first party cookies and cookies within an iframe are considered third party.", "an iframe is like a window into another website from a parent website, in case you didn't know.", "iframes are used mainly for advertising purposes but they're also used for login systems like google's oauth 2.0 javascript library as well as facebook's.", "these libraries use postmessage as well, but that's a whole different can of worms.", "safari used to have a couple of hacks that would promote a third party to first party status.", "the first was to submit a form to the domain in question.", "the form didn't have to do anything, and it could be completely written in javascript, but this bug was soon closed after a lawsuit to google (iirc).", "something around $13 mil.", "the other hack was to open a popup to the third party domain, have the user click a button that allowed the domain to write a cookie.", "the domain could then delete the cookie and close the popup window, then refresh the parent website.", "once the user had interacted with the domain it was assumed that they wanted to allow it to write cookies (elevated to first party status).", "as far as i could tell this breach was closed recently.", "with oauth 2.0 a new model has been added where the user clicks a button or link within the first party website, which redirects the user to another website's login form.", "the other website allows the user to login and redirects the user back to the original website with a token.", "now that the user interacted with a first party website, that website can write cookies from within an iframe.", "this is not a problem with google, this is a problem with safari.", "in chrome and firefox if you block third party cookies then it blocks all third party cookies no matter what.", "this is why we now use localstorage, which doesn't have the problems with third party cookie blocking (or it didn't when i worked on it).", "some discussion on the firefox forums has been had to attempt to close this hole as well.", "the other option could be to use localstorage on the parent website by calling postmessage methods that wrote cookies for the third party website.", "i designed a solution around this as well.", "you could even use cookies in this case, but localstorage is so much faster."], "abstract_untok": ["google did nothing wrong except utilize a hole in the security of safari to write cookies.", "it is more safari's fault for making a poor design decision then google's fault for exploiting a security flaw."], "candidates_untok": [[["iframes are used mainly for advertising purposes but they're also used for login systems like google's oauth 2.0 library.", "safari uses a third-party/first-party cookie policy, where websites that you've visited are considered first"], 0.12144300144300145], [["safari has a third-party/first-party cookie policy.", "iframes are used mainly for advertising purposes but they're also used for login systems.", "google's oauth 2.0 library uses postmessage as well."], 0.1411172348098251], [["safari has a third-party/first-party cookie policy.", "iframes are used mainly for advertising purposes but they're also used for login systems.", "google's oauth 2.0 has been added where the user clicks a"], 0.16241241241241242], [["safari has a third-party/first-party cookie policy.", "iframes are used mainly for advertising purposes but they're also used for login systems.", "google's oauth 2.0 library uses postmessage as well.", "this is"], 0.15550839282268955], [["google's oauth 2.0 allows users to login to another website from within an iframe.", "safari uses a third-party/first-party cookie policy, where websites that you've visited are considered first party cookies and cookies within an if"], 0.11133603238866396], [["a bug in safari allowed cookies from a third party to be written into an iframe.", "iframes are used mainly for advertising purposes but they're also used for login systems like google's oauth 2.0 library.", "this is not a"], 0.19431201709682724], [["safari uses a third-party/first-party cookie policy, where websites that you've visited are considered first party cookies and cookies within an iframe are third party.", "with oauth 2.0 a new model has been added"], 0.07111111111111111], [["safari uses a third-party/first-party cookie policy.", "cookies within an iframe are considered third party.", "iframes are used mainly for advertising purposes.", "google's oauth 2.0 library uses postmessage as well."], 0.12233789208682044], [["safari has a third party/first party cookie policy.", "iframes are used for login systems like google's oauth 2.0. this is not a problem with google, this is a problem for safari.", "in chrome and firefox"], 0.21357686453576866], [["safari has a third-party/first-party cookie policy.", "iframes are used mainly for advertising purposes but they're also used for login systems like google's oauth 2.0. with oauth, a user"], 0.15050690617132748], [["safari has a third party/first party cookie policy.", "iframes are used for login systems like google's oauth 2.0. this is not a problem with google, this is a problem for safari."], 0.20684493434034157], [["the problem is that safari uses a third party/first party cookie policy.", "this means that cookies within an iframe are considered third party.", "iframes are used mainly for advertising purposes but they're also used for login systems.", "google's o"], 0.16055674283522384], [["the problem is that safari uses a third party/first party cookie policy.", "this means that cookies within an iframe are considered third party.", "iframes are used mainly for advertising purposes but they're also used for login systems."], 0.12280701754385966], [["safari uses a third-party/first-party cookie policy.", "cookies within an iframe are considered third party.", "iframes are used mainly for advertising purposes."], 0.08743169398907104], [["in chrome and firefox if you block third party cookies then it blocks all third party cookies no matter what.", "this is not a problem with google, this is a problem for safari."], 0.18095238095238098], [["a safari bug allowed cookies from a third party to be written into an iframe.", "this is a problem with google's oauth 2.0 and facebook's login system.", "the bug was closed after a lawsuit to google (iirc)"], 0.18204906204906204]]}